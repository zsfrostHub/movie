angular.module("myApp",["ui.router","myRoute","myService","in_theatersCtrl","coming_soonCtrl","top250Ctrl","seachCtrl"]).controller("commonCtrl",["$scope","myService","$location",function(t,e,o){t.seach=function(t){console.log(t),e.searchVal=t,o.path("/seach/"+t+"/1")}}]),angular.module("myRoute",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$sceDelegateProvider",function(t,e,o){t.state({url:"/in_theaters/:page",name:"in_theaters",templateUrl:"./view/in_theaters/in_theaters.html",controller:"in_theatersCtrl"}).state({url:"/coming_soon/:page",name:"coming_soon",templateUrl:"./view/coming_soon/coming_soon.html",controller:"coming_soonCtrl"}).state({url:"/top250/:page",name:"top250",templateUrl:"./view/top250/top250.html",controller:"top250Ctrl"}).state({url:"/seach/:q/:page",name:"seach",templateUrl:"./view/seach/seach.html",controller:"seachCtrl"}),e.otherwise("/in_theaters/1")}]),angular.module("myService",[]).service("myService",[function(){this.myJsonp=function(t,e,o){var a=("myJsonp"+Math.random()+Date.now()).replace(".","");window[a]=o;var r="";for(attr in e)r+=attr+"="+e[attr]+"&";var n=document.createElement("script");n.src=t+"?"+r+"callback="+a,n.onload=function(){document.body.removeChild(n)},document.body.appendChild(n)}}]),angular.module("coming_soonCtrl",[]).controller("coming_soonCtrl",["myService","$scope","$stateParams",function(t,e,o){var a=o.page,r=12*(a-1),n=0;t.myJsonp("http://api.douban.com/v2/movie/coming_soon",{count:12,start:r},function(t){e.data=t,n=Math.ceil(t.total/12),e.prev=a-1>1?a-1:1,e.next=a-0+1>n?n:a-0+1,e.$apply()})}]),angular.module("seachCtrl",[]).controller("seachCtrl",["myService","$scope","$stateParams",function(t,e,o){var a=o.q,r=o.page,n=12*(r-1),l=0;t.myJsonp("http://api.douban.com/v2/movie/search",{count:12,start:n,q:a},function(t){e.data=t,l=Math.ceil(t.total/12),e.prev=r-1>1?r-1:1,e.next=r-0+1>l?l:r-0+1,e.$apply()})}]),angular.module("in_theatersCtrl",[]).controller("in_theatersCtrl",["myService","$scope","$http","$stateParams",function(t,e,o,a){console.log(t.txt);var r=a.page,n=12*(r-1),l=0;t.myJsonp("http://api.douban.com/v2/movie/in_theaters",{count:12,start:n},function(t){e.data=t,l=Math.ceil(t.total/12),e.prev=r-1>1?r-1:1,e.next=r-0+1>l?l:r-0+1,e.$apply()})}]),angular.module("top250Ctrl",[]).controller("top250Ctrl",["myService","$scope","$stateParams",function(t,e,o){var a=o.page,r=12*(a-1),n=0;t.myJsonp("http://api.douban.com/v2/movie/top250",{count:12,start:r},function(t){e.data=t,n=Math.ceil(t.total/12),e.prev=a-1>1?a-1:1,e.next=a-0+1>n?n:a-0+1,e.$apply()})}]);